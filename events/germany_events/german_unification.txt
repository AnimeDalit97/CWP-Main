namespace = west_german_unification

west_german_unification.1 = { # GP consent to west_german_unification
	type = country_event
	title = west_german_unification.1.t
	desc = west_german_unification.1.d
	flavor = west_german_unification.1.f
	icon = "gfx/interface/icons/event_icons/event_diplomacy.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/west_german_unification.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3

	trigger = {
		OR = {
			AND = {
				this = c:GBR
				NOT = {has_global_variable = GBR_consents_germany}
				NOT = {has_global_variable = GBR_refuses_germany}
				}
			AND = {
				this = c:USA
				NOT = {has_global_variable = USA_consents_germany}
				NOT = {has_global_variable = USA_refuses_germany}
				}
			AND = {
				this = c:FRA
				NOT = {has_global_variable = FRA_consents_germany}
				NOT = {has_global_variable = FRA_refuses_refuses
				}
			}
		}
	}
	option = {
		name = west_german_unification.1.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		if = {
			limit = {
				this = c:GBR
			}
			set_global_variable = { name = GBR_consents_germany value = yes }
		}
		if = {
			limit = {
				this = c:USA
			}
			set_global_variable = { name = USA_consents_germany value = yes }
		}
		if = {
			limit = {
				this = c:FRA
			}
			set_global_variable = { name = FRA_consents_germany value = yes }
		}
	}

	option = {
		name = west_german_unification.1.b
		ai_chance = {
			base = 0
		}
		change_infamy = 25
		if = {
			limit = {
				this = c:GBR
			}
			set_global_variable = { name = GBR_refuses_germany value = yes }
		}
		if = {
			limit = {
				this = c:USA
			}
			set_global_variable = { name = USA_refuses_germany value = yes }
		}
		if = {
			limit = {
				this = c:FRA
			}
			set_global_variable = { name = FRA_refuses_germany value = yes }
		}
	}
}

west_german_unification.2 = { # Annexation
	type = country_event
	title = west_german_unification.2.t
	desc = west_german_unification.2.d
	flavor = west_german_unification.2.f
	icon = "gfx/interface/icons/event_icons/event_diplomacy.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/west_german_unification.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3

	trigger = {
		OR = {
			AND = {
				exists = c:AOZ
				exists = c:BOZ
				OR = {
					this = c:AOZ
					this = c:BOZ
				}
				has_global_variable = GBR_consents_germany
				has_global_variable = USA_consents_germany
			}
			AND = {
				exists = c:FOZ
				exists = c:BOZ
				OR = {
					this = c:FOZ
					this = c:BOZ
				}
				has_global_variable = GBR_consents_germany
				has_global_variable = FRA_consents_germany
			}
			AND = {
				exists = c:AOZ
				exists = c:FOZ
				OR = {
					this = c:AOZ
					this = c:FOZ
				}
				has_global_variable = FRA_consents_germany
				has_global_variable = USA_consents_germany
			}
		}
	}

	immediate = {
		if = {
			limit = {
				AND = {
					exists = c:BOZ
					has_global_variable = GBR_consents_germany
					NOT = {this = c:BOZ}
				}
			}
			this = {
				annex = c:BOZ
			}
		}
		if = {
			limit = {
				AND = {
					exists = c:AOZ
					has_global_variable = USA_consents_germany
					NOT = {this = c:AOZ}
				}
			}
			this = {
				annex = c:AOZ
			}
		}
		if = {
			limit = {
				AND = {
					exists = c:FOZ
					has_global_variable = FRA_consents_germany
					NOT = {this = c:FOZ}
				}
			}
			this = {
				annex = c:FOZ
			}
		}
	}

	#option = {
	#	name = west_german_unification.2.a
	#	default_option = yes
	#}
}

west_german_unification.3 = { # End of event chain, as Germany
	type = country_event
	title = west_german_unification.3.t
	desc = west_german_unification.3.d
	flavor = west_german_unification.3.f
	icon = "gfx/interface/icons/event_icons/event_diplomacy.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/west_german_unification.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3

	option = {
		name = west_german_unification.3.a
		default_option = yes
		change_tag = GER
		make_independent = yes
		change_relations = {
			country = c:USA
			value = 80
		}
		change_relations = {
			country = c:FRA
			value = 80
		}
		change_relations = {
			country = c:GBR
			value = 80
		}
	}
}

west_german_unification.4 = { # End of event chain, leader
	type = country_event
	title = west_german_unification.4.t
	desc = west_german_unification.4.d
	flavor = west_german_unification.4.f
	icon = "gfx/interface/icons/event_icons/event_diplomacy.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/west_german_unification.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3

	option = {
		name = west_german_unification.4.a
		default_option = yes
		if = {
			limit = {
				exists = c:GER
			}
			if = {
				limit = { exists = s:STATE_BRANDENBURG.region_state:USA }
				s:STATE_BRANDENBURG.region_state:USA = { set_state_owner = c:GER }
			}
			if = {
				limit = { exists = s:STATE_BRANDENBURG.region_state:FRA }
				s:STATE_BRANDENBURG.region_state:FRA = { set_state_owner = c:GER }
			}
			if = {
				limit = { exists = s:STATE_BRANDENBURG.region_state:GBR }
				s:STATE_BRANDENBURG.region_state:GBR = { set_state_owner = c:GER }
			}
		}
		create_diplomatic_pact = {
			country = c:GER
			type = global_var:west_german_independence_type
		}
	}
}

west_german_unification.5 = {  # Denazification
	type = country_event
	title = west_german_unification.5.t
	desc = west_german_unification.5.d
	flavor = west_german_unification.5.f
	icon = "gfx/interface/icons/event_icons/event_diplomacy.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/west_german_unification.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		NOT = { has_variable =independence_triggered }
	}
	immediate = {
		set_variable = { name = independence_triggered value = yes }
	}
	option = {
		name = west_german_unification.5.a
		default_option = yes
		set_global_variable = { name = denazification_complete value = yes }
	}

	option = {
		name = west_german_unification.5.b
		default_option = no
		set_global_variable = { name = denazification_complete value = yes }
		add_modifier = {
			modifier = pushing_denazification
			years = 10
		}
		if = {
			limit = {
				exists = c:BOZ
			}
			c:BOZ = {
				add_modifier = {
					modifier = denazification
					years = 10
				}
			}
		}
		if = {
			limit = {
				exists = c:FOZ
			}
			c:FOZ = {
				add_modifier = {
					modifier = denazification
					years = 10
				}
			}
		}
		if = {
			limit = {
				exists = c:AOZ
			}
			c:AOZ = {
				add_modifier = {
					modifier = denazification
					years = 10
				}
			}
		}
	}
	optoin = {
		name = west_german_unification.5.c
		default_option = no
		set_global_variable = { name = denazification_complete value = yes }
	}
}

west_german_unification.6 = {  # Austrian Question
	type = country_event
	title = west_german_unification.6.t
	desc = west_german_unification.6.d
	flavor = west_german_unification.6.f
	icon = "gfx/interface/icons/event_icons/event_diplomacy.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/west_german_unification.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		NOT = { has_variable =independence_triggered }
	}
	immediate = {
		set_variable = { name = independence_triggered value = yes }
	}
	option = { # First victims of Nazi Germany
		name = west_german_unification.6.a
		default_option = yes
		set_global_variable = { name = austrian_question_complete value = yes }
		if = {
			limit = { exists = s:STATE_AUSTRIA.region_state:AOZ }
			create_country = {
				tag = AOA
				origin = this
				state = s:STATE_AUSTRIA.region_state:AOZ
			}
			if = {
				limit = { exists = s:STATE_TYROL.region_state:FOZ }
				s:STATE_TYROL.region_state:FOZ = { set_state_owner = c:AOA }
			}
			if = {
				limit = { exists = s:STATE_TYROL.region_state:BOZ }
				s:STATE_TYROL.region_state:BOZ = { set_state_owner = c:AOA }
			}
			if = {
				limit = { exists = s:STATE_TYROL.region_state:AOZ }
				s:STATE_TYROL.region_state:AOZ = { set_state_owner = c:AOA }
			}
			if = {
				limit = { exists = s:STATE_STYRIA.region_state:BOZ }
				s:STATE_STYRIA.region_state:BOZ = { set_state_owner = c:AOA }
			}
		}
		if = {
			limit = { exists = c:AOA}
			create_diplomatic_pact = {
				country = c:AOA
				type = military_occupation
			}
		}
	}
	option = { # Lump them in
		name = west_german_unification.6.b
		set_global_variable = { name = austrian_question_complete value = yes }
	}
}

west_german_unification.7 = {  # Independence
	type = country_event
	title = west_german_unification.7.t
	desc = west_german_unification.7.d
	flavor = west_german_unification.7.f
	icon = "gfx/interface/icons/event_icons/event_diplomacy.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/west_german_unification.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		NOT = { has_variable =independence_question_triggered }
	}
	immediate = {
		set_variable = { name = independence_question_triggered value = yes }
		if = {
			limit = {
				this = c:GBR
			}
			set_global_variable = { name = britain_german_independence value = yes }
		}
		if = {
			limit = {
				this = c:USA
			}
			set_global_variable = { name = usa_german_independence value = yes }
		}
		if = {
			limit = {
				this = c:FRA
			}
			set_global_variable = { name = france_german_independence value = yes }
		}
	}
	option = {
		name = west_german_unification.7.a
		default_option = yes
		set_global_variable = { name = west_german_independence_type value = defensive_pact }
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = west_german_unification.7.b
		default_option = no
		set_global_variable = { name = west_german_independence_type value = dominion }
		change_infamy = 5
		ai_chance = {
			base = 0
		}
	}
	option = {
		name = west_german_unification.7.c
		default_option = no
		set_global_variable = { name = west_german_independence_type value = protectorate }
		change_infamy =  10
		ai_chance = {
			base = 0
		}
	}
	option = {
		name = west_german_unification.7.d
		default_option = no
		set_global_variable = { name = west_german_independence_type value = puppet }
		change_infamy = 25
		ai_chance = {
			base = 0
		}
	}
}

west_german_unification.8 = {  # Neutrality
	type = country_event
	title = west_german_unification.8.t
	desc = west_german_unification.8.d
	flavor = west_german_unification.8.f
	icon = "gfx/interface/icons/event_icons/event_diplomacy.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/west_german_unification.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		NOT = { has_variable =neutrality_question_triggered }
	}
	immediate = {
		set_variable = { name = neutrality_question_triggered value = yes }
	}
	option = {
		name = west_german_unification.8.a
		default_option = yes
		set_global_variable = { name = german_neutrality_complete value = yes }
	}
}

west_german_unification.9 = { # German Unification
	type = country_event
	title = west_german_unification.9.t
	desc = west_german_unification.9.d
	flavor = west_german_unification.9.f
	icon = "gfx/interface/icons/event_icons/event_diplomacy.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/west_german_unification.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		NOT = { has_variable =german_unity_question_triggered }
	}
	immediate = {
		set_variable = { name = german_unity_question_triggered value = yes }
	}
	option = {
		name = west_german_unification.9.a
		default_option = yes
		set_global_variable = { name = german_unity_complete value = yes }
	}
}


west_german_unification.10 = {  # Operation Paperclip
	type = country_event
	title = west_german_unification.10.t
	desc = west_german_unification.10.d
	flavor = west_german_unification.10.f
	icon = "gfx/interface/icons/event_icons/event_diplomacy.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/west_german_unification.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		NOT = { has_variable =operation_paperclip_triggered }
	}
	immediate = {
		set_variable = { name = operation_paperclip_triggered value = yes }
	}
	option = {
		name = west_german_unification.10.a
		default_option = yes
	}
}