# triggered by UN Resolution Screen
je_acquire_nuclear_capability = {
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	possible = {
		this = {
			any_state = {
				has_building = building_nuclear_research_facility
			}
		}
	}
	immediate = {
		set_variable = nuclear_capability_valje
	}

	current_value = {
		value = var:nuclear_capability_valje
	}

	goal_add_value = {
		add = 100 # was 100, temp testing value
	}

	on_weekly_pulse = {
		effect = {
			change_variable = {
				name = nuclear_capability_valje
				add = 0.1
			}
		}
	}
	##### TODO, #32 Journal completion does NOT trigger event
	complete = {
			scope:journal_entry = {
				is_goal_complete = yes
			}
	}

	fail = {
		or = {
			AND = {
				scope:journal_entry = {
					is_goal_complete = yes
				}
			}
		}
	}

	on_complete = {
		hidden_effect = {
			every_country = {
				trigger_event = { id = un_resolution_events.1 }
			}
			any_country = {
				limit = {
					has_variable = un_member
				}
				add_modifier = declaration_of_human_rights
			}
		}
		effect_reset_un_lists = yes
		set_global_variable = declaration_of_human_rightscomplete
	}

	on_fail = {
		hidden_effect = {
			every_country = {
				trigger_event = { id = un_resolution_events.2 }
			}
		}
		effect_reset_un_lists = yes
		set_global_variable = {
			name = declaration_of_human_rightsfail
			days = 365
		}
	}


	progressbar = yes
	weight = 100
}
